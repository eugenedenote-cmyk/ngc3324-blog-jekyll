---
layout: simple
---

<div class="admin-dashboard">
  <h1 style="font-size: 2rem; font-weight: 700; margin-bottom: 2rem;">관리자 대시보드</h1>
  
  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-bottom: 3rem;">
    <div style="background-color: #f9fafb; padding: 1.5rem; border-radius: 0.5rem; border: 1px solid #e5e7eb;">
      <h3 style="font-weight: 600; margin-bottom: 1rem;">새 글 작성</h3>
      <p style="color: #6b7280; margin-bottom: 1rem; font-size: 0.875rem;">새로운 블로그 포스트를 작성합니다.</p>
      <a href="#" onclick="showNewPostForm()" style="background-color: #3b82f6; color: white; padding: 0.5rem 1rem; border-radius: 0.375rem; text-decoration: none; font-size: 0.875rem;">글 작성</a>
    </div>
    
    <div style="background-color: #f9fafb; padding: 1.5rem; border-radius: 0.5rem; border: 1px solid #e5e7eb;">
      <h3 style="font-weight: 600; margin-bottom: 1rem;">글 관리</h3>
      <p style="color: #6b7280; margin-bottom: 1rem; font-size: 0.875rem;">기존 글을 수정하거나 삭제합니다.</p>
      <a href="#" onclick="showPostList()" style="background-color: #10b981; color: white; padding: 0.5rem 1rem; border-radius: 0.375rem; text-decoration: none; font-size: 0.875rem;">글 목록</a>
    </div>
    
    <div style="background-color: #f9fafb; padding: 1.5rem; border-radius: 0.5rem; border: 1px solid #e5e7eb;">
      <h3 style="font-weight: 600; margin-bottom: 1rem;">설정</h3>
      <p style="color: #6b7280; margin-bottom: 1rem; font-size: 0.875rem;">블로그 설정을 관리합니다.</p>
      <a href="#" onclick="showSettings()" style="background-color: #8b5cf6; color: white; padding: 0.5rem 1rem; border-radius: 0.375rem; text-decoration: none; font-size: 0.875rem;">설정</a>
    </div>
  </div>

  <div id="admin-content">
    {{ content }}
  </div>
</div>

<!-- 새 글 작성 폼 -->
<div id="new-post-form" style="display: none; background-color: white; padding: 2rem; border-radius: 0.5rem; border: 1px solid #e5e7eb; margin-top: 2rem;">
  <h2 style="font-size: 1.5rem; font-weight: 600; margin-bottom: 1.5rem;">새 글 작성</h2>
  
  <form id="post-form">
    <div style="margin-bottom: 1rem;">
      <label style="display: block; font-weight: 500; margin-bottom: 0.5rem;">제목</label>
      <input type="text" id="post-title" style="width: 100%; padding: 0.75rem; border: 1px solid #d1d5db; border-radius: 0.375rem; font-size: 1rem;" placeholder="글 제목을 입력하세요">
    </div>
    
    <div style="margin-bottom: 1rem;">
      <label style="display: block; font-weight: 500; margin-bottom: 0.5rem;">카테고리</label>
      <input type="text" id="post-categories" style="width: 100%; padding: 0.75rem; border: 1px solid #d1d5db; border-radius: 0.375rem; font-size: 1rem;" placeholder="카테고리 (쉼표로 구분)">
    </div>
    
    <div style="margin-bottom: 1rem;">
      <label style="display: block; font-weight: 500; margin-bottom: 0.5rem;">태그</label>
      <input type="text" id="post-tags" style="width: 100%; padding: 0.75rem; border: 1px solid #d1d5db; border-radius: 0.375rem; font-size: 1rem;" placeholder="태그 (쉼표로 구분)">
    </div>
    
    <div style="margin-bottom: 1.5rem;">
      <label style="display: block; font-weight: 500; margin-bottom: 0.5rem;">내용</label>
      <textarea id="post-content" rows="15" style="width: 100%; padding: 0.75rem; border: 1px solid #d1d5db; border-radius: 0.375rem; font-size: 1rem; font-family: 'JetBrains Mono', monospace;" placeholder="마크다운 형식으로 글을 작성하세요..."></textarea>
    </div>
    
    <div style="display: flex; gap: 1rem;">
      <button type="button" onclick="generatePost()" style="background-color: #3b82f6; color: white; padding: 0.75rem 1.5rem; border: none; border-radius: 0.375rem; font-weight: 500; cursor: pointer;">파일 생성</button>
      <button type="button" onclick="hideNewPostForm()" style="background-color: #6b7280; color: white; padding: 0.75rem 1.5rem; border: none; border-radius: 0.375rem; font-weight: 500; cursor: pointer;">취소</button>
    </div>
  </form>
</div>

<script>
function showNewPostForm() {
  document.getElementById('new-post-form').style.display = 'block';
}

function hideNewPostForm() {
  document.getElementById('new-post-form').style.display = 'none';
}

function generatePost() {
  const title = document.getElementById('post-title').value;
  const categories = document.getElementById('post-categories').value;
  const tags = document.getElementById('post-tags').value;
  const content = document.getElementById('post-content').value;
  
  if (!title || !content) {
    alert('제목과 내용을 모두 입력해주세요.');
    return;
  }
  
  const now = new Date();
  const dateStr = now.toISOString().split('T')[0];
  const filename = `${dateStr}-${title.toLowerCase().replace(/[^a-z0-9가-힣]/g, '-').replace(/-+/g, '-')}.md`;
  
  let frontMatter = '---\n';
  frontMatter += `title: "${title}"\n`;
  frontMatter += `author: NGC 3324\n`;
  frontMatter += `date: ${now.toISOString()}\n`;
  
  if (categories) {
    const catArray = categories.split(',').map(c => c.trim());
    frontMatter += `categories: [${catArray.map(c => `"${c}"`).join(', ')}]\n`;
  }
  
  if (tags) {
    const tagArray = tags.split(',').map(t => t.trim());
    frontMatter += `tags: [${tagArray.map(t => `"${t}"`).join(', ')}]\n`;
  }
  
  frontMatter += '---\n\n';
  
  const fullContent = frontMatter + content;
  
  // 파일 다운로드
  const blob = new Blob([fullContent], { type: 'text/markdown' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = filename;
  document.body.appendChild(a);
  a.click();
  document.body.removeChild(a);
  URL.revokeObjectURL(url);
  
  alert(`파일이 생성되었습니다: ${filename}\n\n이 파일을 _posts 폴더에 업로드하고 GitHub에 푸시하세요.`);
}

function showPostList() {
  alert('현재 글 목록 기능은 개발 중입니다.\n\n_posts 폴더에서 직접 파일을 관리해주세요.');
}

function showSettings() {
  alert('설정 기능은 _config.yml 파일을 직접 수정해주세요.');
}
</script>
